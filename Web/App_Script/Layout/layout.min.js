(t=>{'use strict';const e={register:()=>(t=>{t.rag&&t.mug.apply(),t.mer.apply()})({rag:t.registerAsGlobal,mer:e.events.register,mug:e.utilities.GlobalRegistrar}),ui:{builder:{sideMenu:t=>{t&&(t=>t.init(t))({init:i=>(t=>$.each(t,e=>t[e].apply()))({write:()=>$('ul.sidebar-menu[data-widget="tree"]').html(i.menuItemBuilder(i,t)),mps:e.ui.patcher.sidebar.setSelected,msc:e.events.sidebarItem.onClick}),menuItemBuilder:(t,i,n)=>{let a='';return n=null===n||void 0===n||n,$.each(i,(i,r)=>{const o=0===r.Childs.length?r.Title:`\n\t\t\t\t\t\t\t\t\t\t\t<span>${r.Title}</span>\n\t\t\t\t\t\t\t\t\t\t\t<span class="pull-right-container">\n\t\t\t\t\t\t\t\t\t\t\t\t<i class="fa fa-angle-left pull-right"></i>\n\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t`,l=`<ul class="treeview-menu">${t.menuItemBuilder(t,r.Childs,!1)}</ul>`,s=`\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<li class="${n&&r.Childs.length>0?'treeview':''}">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<a href="${e.utilities.createUri(r.Target)}">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t${''!==r.Icon?`<i class="fa ${r.Icon}"></i>`:''}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span>${o}</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t${r.Childs.length>0?l:''}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t\t\t\t\t`;a+=s}),a}})}},patcher:{loading:{hide:()=>$('div.loading-container').fadeOut(750),show:()=>$('div.loading-container').fadeIn(750)},sidebar:{setSelected:()=>$(`ul.sidebar-menu a[href="${t.w.location.href}"]`).closest('li').addClass('active')}}},events:{register:()=>(t=>$.each(t,e=>t[e].apply()))({mdr:e.events.document.register}),document:{register:()=>(t=>t.init(t))({rdm:t.developerMode,mum:e.utilities.userManager.loginChecker,mdl:e.events.document.load,init:t=>{!t.rdm&&t.mum.apply(),t.mdl.apply()}}),load:()=>(t=>t.init(t))({mut:e.utilities.getSideMenuItems,mub:e.ui.builder.sideMenu,med:e.events.document.ready,init:t=>t.mut(e=>{t.mub(e),t.med.apply()})}),ready:()=>$((t=>t.init(t))({mpl:e.ui.patcher.loading.hide,mns:e.events.navbar.screenfull.onClick,mpm:e.events.panel.maximize.onClick,init:t=>{setTimeout(()=>t.mpl.apply(),1500),t.mns.apply(),t.mpm.apply()}}))},navbar:{screenfull:{onClick:()=>$('a#app-full-screen-toggle').on('click',()=>t.vendor.screenfull.toggle($('body')[0]))}},panel:{maximize:{onClick:()=>$('.btn-box-tool[data-widget="maximize"]').on('click',t=>(t=>t.init(t))({dom:$(t.currentTarget),init:t=>t.dom.closest('.row').fadeOut(350,()=>{t.dom.closest('.box').toggleClass('fullwindow-document-target'),t.dom.closest('.row').toggleClass('fullwindow-container').fadeIn(350)})}))}},sidebarItem:{onClick:()=>$('ul.sidebar-menu a').on('click',i=>{const n=$(i.currentTarget);i.preventDefault(),e.ui.patcher.loading.show.apply(),setTimeout(()=>t.w.location.href=n.attr('href'),1500)})}},utilities:{GlobalRegistrar:()=>t.w[t.registerNamespace]={ui:{notification:e.utilities.notification,messageBox:e.utilities.messageBox,modalizer:e.utilities.modalizer},vendor:t.vendor,utilities:{callbackRunner:e.utilities.callbackRunner,createUri:e.utilities.createUri,numberFormat:e.utilities.numberFormat,trakindoNumberFormat:e.utilities.trakindoNumberFormat,userManager:e.utilities.userManager}},getSideMenuItems:i=>{let n=t.services.configurations.sideMenu;n=$.extend({url:e.utilities.createUri(n.url)},n),$.ajax(n).done(t=>{t=JSON.parse(t.output),i&&i(t)}).fail((t,e,i)=>{console.log(t,e,i)})},callbackRunners:(t,e,i,n)=>t&&t(arguments),createUri:t=>(t=>t.init(t))({subPath:t||'',origin:window.location.origin,pathname:window.location.pathname,getBaseUri:t=>(e=>`${t.origin}/${1<e.length?e[1]+'/':''}`)('/'===t.pathname?[]:t.pathname.split('/')),init:t=>`${t.getBaseUri(t)}${t.subPath}`}),numberFormat:(t,e,i,n)=>{const a=isFinite(+t)?+t:0,r=isFinite(+e)?Math.abs(e):0,o=void 0===n?',':n,l=void 0===i?'.':i,s=(r?((t,e)=>(e=>Math.round(t*e)/e)(Math.pow(10,e)))(a,r):Math.round(a)).toString().split('.');return 3<s[0].length&&(s[0]=s[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,o)),(s[1]||'').length<r&&(s[1]=s[1]||'',s[1]+=new Array(r-s[1].length+1).join((0).toString())),s.join(l)},trakindoNumberFormat:t=>e.utilities.numberFormat(parseFloat(t).toFixed(2),2,'.',','),notification:e=>{e=$.extend({type:'success',text:'Hello World!',closeButton:!0,debug:!1,newestOnTop:!1,progressBar:!0,positionClass:'toast-top-right',preventDuplicates:!1,onclick:null,showDuration:300,hideDuration:1e3,timeOut:5e3,extendedTimeOut:1e3,showEasing:'swing',hideEasing:'linear',showMethod:'fadeIn',hideMethod:'fadeOut'},e),t.vendor.toastr.options=e,t.vendor.toastr[e.type](e.text)},messageBox:t.vendor.bootbox,modalizer:t.vendor.eModal,userManager:{loginChecker:()=>Cookies.get('sp')||(t.w.location.href=`${t.services.auth.loginWithReturn}${e.utilities.createUri()}`),getProfile:i=>{const n=t.services.configurations.userProfiler;n.url=e.utilities.createUri(n.url),$.ajax(n).done(n=>{!0===(n=JSON.parse(n.GetUserProfileCallResult)).result?e.utilities.notification({text:`Welcome ${n.userprofiles.Employee_Name}!!!`}):t.w.location.href=`${t.services.auth.loginWithReturn}${e.utilities.createUri()}`,i&&i(n)}).fail(()=>{alert('Can not initialize user profile.\n\nRedirecting to login page.'),t.w.location.href=`${t.services.auth.loginWithReturn}${e.utilities.createUri()}`})}}}};e.register.apply()})({d:document,w:window,services:{auth:{loginWithReturn:'http://portal.trakindo.co.id/_layouts/15/Trakindo/Authentication/Login.aspx?ReturnUrl=',getProfile:'http://portal.trakindo.co.id/_layouts/15/TUPortalWS/Services/TUPortalWS.svc/GetUserProfileCall'},configurations:{sideMenu:{url:'api/FileReader',method:'GET',data:{subPath:'side-menu-item.json'},dataType:'json',headers:{'Content-Type':'application/json'}},userProfiler:{url:'',crosscrossDomain:!0,type:'POST',dataType:'json',contentType:'application/json'}}},vendor:{screenfull:screenfull,toastr:toastr,excel:XLSX,bootbox:bootbox,eModal:eModal},developerMode:!0,registerAsGlobal:!0,registerNamespace:'templateHelper'});
//# sourceMappingURL=layout.min.js.map